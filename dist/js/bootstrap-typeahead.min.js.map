{"version":3,"sources":["../../src/js/typeahead.js"],"names":["$","_","WWW","EventBus","EventEmitter","highlight","Input","Dataset","Menu","DefaultMenu","Typeahead","isMsie","test","navigator","userAgent","match","isBlankString","str","escapeRegExChars","replace","isString","obj","isNumber","isArray","isFunction","isObject","isPlainObject","isUndefined","isElement","nodeType","isJQuery","toStr","s","bind","proxy","each","collection","cb","index","value","map","filter","grep","every","result","key","val","call","some","mixin","extend","identity","x","clone","getIdGenerator","counter","templatify","String","defer","fn","setTimeout","debounce","func","wait","immediate","timeout","later","callNow","context","this","args","arguments","apply","clearTimeout","throttle","previous","Date","now","remaining","stringify","JSON","noop","defaultClassNames","wrapper","input","hint","menu","dataset","suggestion","selectable","empty","open","cursor","o","www","classes","css","position","display","width","top","left","borderColor","boxShadow","opacity","verticalAlign","backgroundColor","inputWithNoHint","zIndex","ltr","right","rtl","backgroundImage","buildCss","html","c","buildHtml","selectors","v","k","buildSelectors","deprecationMap","el","error","$el","render","cursorchange","select","autocomplete","prototype","_trigger","type","$e","Event","unshift","trigger","before","slice","isDefaultPrevented","deprecatedType","splitter","nextTick","nextTickFn","window","setImmediate","getNextTick","onSync","types","on","onAsync","off","_callbacks","split","shift","callbacks","syncFlush","asyncFlush","getFlush","sync","concat","async","method","bindContext","push","cancelled","i","len","length","doc","defaults","node","pattern","tagName","className","wordsOnly","caseSensitive","regex","patterns","regexStr","escapedPatterns","join","RegExp","getRegex","traverse","hightlightTextNode","childNode","childNodes","textNode","patternNode","wrapperNode","exec","data","createElement","splitText","appendChild","cloneNode","parentNode","replaceChild","document","specialKeyCodeMap","$hint","$input","query","queryWhenFocused","hasFocus","$overflowHelper","visibility","whiteSpace","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","wordSpacing","letterSpacing","textIndent","textRendering","textTransform","insertAfter","buildOverflowHelper","_checkLanguageDirection","setHint","getHint","clearHint","clearHintIfInvalid","9","27","37","39","13","38","40","normalizeQuery","_onBlur","resetInputValue","_onFocus","_onKeydown","keyName","which","keyCode","_managePreventDefault","_shouldTrigger","_onInput","_setQuery","getInputValue","preventDefault","withModifier","dir","toLowerCase","attr","silent","areEquivalent","hasDifferentWhitespace","a","b","areQueriesEquivalent","onBlur","onFocus","onKeydown","onInput","that","focus","blur","getLangDir","getQuery","setQuery","setInputValue","hasQueryChangedSinceLastFocus","valIsPrefixOfHint","indexOf","hasOverflow","is","constraint","text","isCursorAtEnd","valueLength","selectionStart","range","selection","createRange","moveStart","destroy","remove","altKey","ctrlKey","metaKey","shiftKey","keys","nameGenerator","templates","notFound","source","name","isValidName","limit","displayFn","getDisplayFn","displayKey","pending","header","footer","getTemplates","__ttAdapter","_resetLastSuggestion","addClass","extractData","_overwrite","suggestions","_renderSuggestions","_renderPending","_renderNotFound","_empty","_append","$lastSuggestion","_appendSuggestions","$fragment","_getSuggestionsFragment","children","last","prepend","_getHeader","append","_getFooter","after","template","fragment","createDocumentFragment","_injectQuery","_query","update","canceled","syncCalled","rendered","cancel","clear","isEmpty","$node","datasets","oDataset","find","first","appendTo","_onSelectableClick","currentTarget","_onRendered","toggleClass","_allDatasetsEmpty","_onCleared","_propagate","_getSelectables","_removeCursor","$selectable","getActiveSelectable","removeClass","_ensureVisible","elTop","elBottom","nodeScrollTop","nodeHeight","outerHeight","scrollTop","height","parseInt","onSelectableClick","isOpen","hasClass","close","setLanguageDirection","selectableRelativeToCursor","delta","$selectables","$oldCursor","oldIndex","newIndex","eq","setCursor","getSelectableData","getTopSelectable","isValidUpdate","_show","_hide","hide","onFocused","onBlurred","onEnterKeyed","onTabKeyed","onEscKeyed","onUpKeyed","onDownKeyed","onLeftKeyed","onRightKeyed","onQueryChanged","onWhitespaceChanged","eventBus","minLength","enabled","active","activate","_hacks","_onSelectableClicked","_onAsyncRequested","_onAsyncCanceled","_onAsyncReceived","_onDatasetRendered","_onDatasetCleared","_onLangDirChanged","$menu","isActive","hasActive","activeElement","has","stopImmediatePropagation","_updateHint","_onFocused","_minLengthMet","_onBlurred","_onEnterKeyed","_onTabKeyed","_onEscKeyed","_onUpKeyed","moveCursor","_onDownKeyed","_onLeftKeyed","_onRightKeyed","_onQueryChanged","e","_onWhitespaceChanged","_openIfActive","escapedQuery","frontMatchRegEx","isEnabled","enable","disable","deactivate","setVal","getVal","$candidate","payload","ctx","methods","old","ttEach","$els","typeahead","$elOrNull","isValid","attrs","initialize","classNames","$wrapper","defaultHint","defaultMenu","MenuConstructor","d","removeData","backgroundAttachment","backgroundClip","backgroundOrigin","backgroundPosition","backgroundRepeat","backgroundSize","getBackgroundStyles","prop","removeAttr","spellcheck","tabindex","buildHintFromInput","style","prepInput","wrap","parent","t","success","newVal","detach","revert","noConflict"],"mappings":"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","sourcesContent":["/*!\n * typeahead.js 0.11.1\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nimport $ from 'jquery'\n\n(function(factory) {\n    factory($);\n})(function($) {\n    var _ = function() {\n        \"use strict\";\n        return {\n            isMsie: function() {\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n            },\n            isBlankString: function(str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function(str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n            },\n            isString: function(obj) {\n                return typeof obj === \"string\";\n            },\n            isNumber: function(obj) {\n                return typeof obj === \"number\";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function(obj) {\n                return typeof obj === \"undefined\";\n            },\n            isElement: function(obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n            isJQuery: function(obj) {\n                return obj instanceof $;\n            },\n            toStr: function toStr(s) {\n                return _.isUndefined(s) || s === null ? \"\" : s + \"\";\n            },\n            bind: $.proxy,\n            each: function(collection, cb) {\n                $.each(collection, reverseArgs);\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function(obj, test) {\n                var result = true;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function(obj, test) {\n                var result = false;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            identity: function(x) {\n                return x;\n            },\n            clone: function(obj) {\n                return $.extend(true, {}, obj);\n            },\n            getIdGenerator: function() {\n                var counter = 0;\n                return function() {\n                    return counter++;\n                };\n            },\n            templatify: function templatify(obj) {\n                return $.isFunction(obj) ? obj : template;\n                function template() {\n                    return String(obj);\n                }\n            },\n            defer: function(fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function(func, wait, immediate) {\n                var timeout, result;\n                return function() {\n                    var context = this, args = arguments, later, callNow;\n                    later = function() {\n                        timeout = null;\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n                    return result;\n                };\n            },\n            throttle: function(func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n                later = function() {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n                return function() {\n                    var now = new Date(), remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n                    return result;\n                };\n            },\n            stringify: function(val) {\n                return _.isString(val) ? val : JSON.stringify(val);\n            },\n            noop: function() {}\n        };\n    }();\n    var WWW = function() {\n        \"use strict\";\n        var defaultClassNames = {\n            wrapper     : 'bootstrap-typeahead', // \"twitter-typeahead\",\n            input       : \"tt-input\",\n            hint        : \"tt-hint\",\n            menu        : 'dropdown-menu', // \"tt-menu\",\n            dataset     : \"tt-dataset\",\n            suggestion  : 'dropdown-item', // \"tt-suggestion\",\n            selectable  : \"tt-selectable\",\n            empty       : \"tt-empty\",\n            open        : \"tt-open\",\n            cursor      : 'active', //\"tt-cursor\",\n            highlight   : \"tt-highlight\"\n        };\n        return build;\n        function build(o) {\n            var www, classes;\n            classes = _.mixin({}, defaultClassNames, o);\n            www = {\n                css: buildCss(),\n                classes: classes,\n                html: buildHtml(classes),\n                selectors: buildSelectors(classes)\n            };\n            return {\n                css: www.css,\n                html: www.html,\n                classes: www.classes,\n                selectors: www.selectors,\n                mixin: function(o) {\n                    _.mixin(o, www);\n                }\n            };\n        }\n        function buildHtml(c) {\n            return {\n                wrapper: '<span class=\"' + c.wrapper + '\"></span>',\n                menu: '<div class=\"' + c.menu + '\"></div>'\n            };\n        }\n        function buildSelectors(classes) {\n            var selectors = {};\n            _.each(classes, function(v, k) {\n                selectors[k] = \".\" + v;\n            });\n            return selectors;\n        }\n        function buildCss() {\n            var css = {\n                wrapper: {\n                    position: \"relative\",\n                    display: \"inline-block\",\n                    width: '100%'\n                },\n                hint: {\n                    position: \"absolute\",\n                    top: \"0\",\n                    left: \"0\",\n                    borderColor: \"transparent\",\n                    boxShadow: \"none\",\n                    opacity: \"1\"\n                },\n                input: {\n                    position: \"relative\",\n                    verticalAlign: \"top\",\n                    backgroundColor: \"transparent\"\n                },\n                inputWithNoHint: {\n                    position: \"relative\",\n                    verticalAlign: \"top\"\n                },\n                menu: {\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: \"0\",\n                    zIndex: \"100\",\n                    display: \"none\",\n                    width: '100%'\n                },\n                ltr: {\n                    left: \"0\",\n                    right: \"auto\"\n                },\n                rtl: {\n                    left: \"auto\",\n                    right: \" 0\"\n                }\n            };\n            if (_.isMsie()) {\n                _.mixin(css.input, {\n                    backgroundImage: \"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"\n                });\n            }\n            return css;\n        }\n    }();\n    var EventBus = function() {\n        \"use strict\";\n        var namespace, deprecationMap;\n        namespace = \"typeahead:\";\n        deprecationMap = {\n            render: \"rendered\",\n            cursorchange: \"cursorchanged\",\n            select: \"selected\",\n            autocomplete: \"autocompleted\"\n        };\n        function EventBus(o) {\n            if (!o || !o.el) {\n                $.error(\"EventBus initialized without el\");\n            }\n            this.$el = $(o.el);\n        }\n        _.mixin(EventBus.prototype, {\n            _trigger: function(type, args) {\n                var $e;\n                $e = $.Event(namespace + type);\n                (args = args || []).unshift($e);\n                this.$el.trigger.apply(this.$el, args);\n                return $e;\n            },\n            before: function(type) {\n                var args, $e;\n                args = [].slice.call(arguments, 1);\n                $e = this._trigger(\"before\" + type, args);\n                return $e.isDefaultPrevented();\n            },\n            trigger: function(type) {\n                var deprecatedType;\n                this._trigger(type, [].slice.call(arguments, 1));\n                if (deprecatedType = deprecationMap[type]) {\n                    this._trigger(deprecatedType, [].slice.call(arguments, 1));\n                }\n            }\n        });\n        return EventBus;\n    }();\n    var EventEmitter = function() {\n        \"use strict\";\n        var splitter = /\\s+/, nextTick = getNextTick();\n        return {\n            onSync: onSync,\n            onAsync: onAsync,\n            off: off,\n            trigger: trigger\n        };\n        function on(method, types, cb, context) {\n            var type;\n            if (!cb) {\n                return this;\n            }\n            types = types.split(splitter);\n            cb = context ? bindContext(cb, context) : cb;\n            this._callbacks = this._callbacks || {};\n            while (type = types.shift()) {\n                this._callbacks[type] = this._callbacks[type] || {\n                    sync: [],\n                    async: []\n                };\n                this._callbacks[type][method].push(cb);\n            }\n            return this;\n        }\n        function onAsync(types, cb, context) {\n            return on.call(this, \"async\", types, cb, context);\n        }\n        function onSync(types, cb, context) {\n            return on.call(this, \"sync\", types, cb, context);\n        }\n        function off(types) {\n            var type;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            while (type = types.shift()) {\n                delete this._callbacks[type];\n            }\n            return this;\n        }\n        function trigger(types) {\n            var type, callbacks, args, syncFlush, asyncFlush;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            args = [].slice.call(arguments, 1);\n            while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n                syncFlush = getFlush(callbacks.sync, this, [ type ].concat(args));\n                asyncFlush = getFlush(callbacks.async, this, [ type ].concat(args));\n                syncFlush() && nextTick(asyncFlush);\n            }\n            return this;\n        }\n        function getFlush(callbacks, context, args) {\n            return flush;\n            function flush() {\n                var cancelled;\n                for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n                    cancelled = callbacks[i].apply(context, args) === false;\n                }\n                return !cancelled;\n            }\n        }\n        function getNextTick() {\n            var nextTickFn;\n            if (window.setImmediate) {\n                nextTickFn = function nextTickSetImmediate(fn) {\n                    setImmediate(function() {\n                        fn();\n                    });\n                };\n            } else {\n                nextTickFn = function nextTickSetTimeout(fn) {\n                    setTimeout(function() {\n                        fn();\n                    }, 0);\n                };\n            }\n            return nextTickFn;\n        }\n        function bindContext(fn, context) {\n            return fn.bind ? fn.bind(context) : function() {\n                fn.apply(context, [].slice.call(arguments, 0));\n            };\n        }\n    }();\n    var highlight = function(doc) {\n        \"use strict\";\n        var defaults = {\n            node: null,\n            pattern: null,\n            tagName: \"strong\",\n            className: null,\n            wordsOnly: false,\n            caseSensitive: false\n        };\n        return function hightlight(o) {\n            var regex;\n            o = _.mixin({}, defaults, o);\n            if (!o.node || !o.pattern) {\n                return;\n            }\n            o.pattern = _.isArray(o.pattern) ? o.pattern : [ o.pattern ];\n            regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly);\n            traverse(o.node, hightlightTextNode);\n            function hightlightTextNode(textNode) {\n                var match, patternNode, wrapperNode;\n                if (match = regex.exec(textNode.data)) {\n                    wrapperNode = doc.createElement(o.tagName);\n                    o.className && (wrapperNode.className = o.className);\n                    patternNode = textNode.splitText(match.index);\n                    patternNode.splitText(match[0].length);\n                    wrapperNode.appendChild(patternNode.cloneNode(true));\n                    textNode.parentNode.replaceChild(wrapperNode, patternNode);\n                }\n                return !!match;\n            }\n            function traverse(el, hightlightTextNode) {\n                var childNode, TEXT_NODE_TYPE = 3;\n                for (var i = 0; i < el.childNodes.length; i++) {\n                    childNode = el.childNodes[i];\n                    if (childNode.nodeType === TEXT_NODE_TYPE) {\n                        i += hightlightTextNode(childNode) ? 1 : 0;\n                    } else {\n                        traverse(childNode, hightlightTextNode);\n                    }\n                }\n            }\n        };\n        function getRegex(patterns, caseSensitive, wordsOnly) {\n            var escapedPatterns = [], regexStr;\n            for (var i = 0, len = patterns.length; i < len; i++) {\n                escapedPatterns.push(_.escapeRegExChars(patterns[i]));\n            }\n            regexStr = wordsOnly ? \"\\\\b(\" + escapedPatterns.join(\"|\") + \")\\\\b\" : \"(\" + escapedPatterns.join(\"|\") + \")\";\n            return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, \"i\");\n        }\n    }(window.document);\n    var Input = function() {\n        \"use strict\";\n        var specialKeyCodeMap;\n        specialKeyCodeMap = {\n            9: \"tab\",\n            27: \"esc\",\n            37: \"left\",\n            39: \"right\",\n            13: \"enter\",\n            38: \"up\",\n            40: \"down\"\n        };\n        function Input(o, www) {\n            o = o || {};\n            if (!o.input) {\n                $.error(\"input is missing\");\n            }\n            www.mixin(this);\n            this.$hint = $(o.hint);\n            this.$input = $(o.input);\n            this.query = this.$input.val();\n            this.queryWhenFocused = this.hasFocus() ? this.query : null;\n            this.$overflowHelper = buildOverflowHelper(this.$input);\n            this._checkLanguageDirection();\n            if (this.$hint.length === 0) {\n                this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n            }\n        }\n        Input.normalizeQuery = function(str) {\n            return _.toStr(str).replace(/^\\s*/g, \"\").replace(/\\s{2,}/g, \" \");\n        };\n        _.mixin(Input.prototype, EventEmitter, {\n            _onBlur: function onBlur() {\n                this.resetInputValue();\n                this.trigger(\"blurred\");\n            },\n            _onFocus: function onFocus() {\n                this.queryWhenFocused = this.query;\n                this.trigger(\"focused\");\n            },\n            _onKeydown: function onKeydown($e) {\n                var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n                this._managePreventDefault(keyName, $e);\n                if (keyName && this._shouldTrigger(keyName, $e)) {\n                    this.trigger(keyName + \"Keyed\", $e);\n                }\n            },\n            _onInput: function onInput() {\n                this._setQuery(this.getInputValue());\n                this.clearHintIfInvalid();\n                this._checkLanguageDirection();\n            },\n            _managePreventDefault: function managePreventDefault(keyName, $e) {\n                var preventDefault;\n                switch (keyName) {\n                  case \"up\":\n                  case \"down\":\n                    preventDefault = !withModifier($e);\n                    break;\n\n                  default:\n                    preventDefault = false;\n                }\n                preventDefault && $e.preventDefault();\n            },\n            _shouldTrigger: function shouldTrigger(keyName, $e) {\n                var trigger;\n                switch (keyName) {\n                  case \"tab\":\n                    trigger = !withModifier($e);\n                    break;\n\n                  default:\n                    trigger = true;\n                }\n                return trigger;\n            },\n            _checkLanguageDirection: function checkLanguageDirection() {\n                var dir = (this.$input.css(\"direction\") || \"ltr\").toLowerCase();\n                if (this.dir !== dir) {\n                    this.dir = dir;\n                    this.$hint.attr(\"dir\", dir);\n                    this.trigger(\"langDirChanged\", dir);\n                }\n            },\n            _setQuery: function setQuery(val, silent) {\n                var areEquivalent, hasDifferentWhitespace;\n                areEquivalent = areQueriesEquivalent(val, this.query);\n                hasDifferentWhitespace = areEquivalent ? this.query.length !== val.length : false;\n                this.query = val;\n                if (!silent && !areEquivalent) {\n                    this.trigger(\"queryChanged\", this.query);\n                } else if (!silent && hasDifferentWhitespace) {\n                    this.trigger(\"whitespaceChanged\", this.query);\n                }\n            },\n            bind: function() {\n                var that = this, onBlur, onFocus, onKeydown, onInput;\n                onBlur = _.bind(this._onBlur, this);\n                onFocus = _.bind(this._onFocus, this);\n                onKeydown = _.bind(this._onKeydown, this);\n                onInput = _.bind(this._onInput, this);\n                this.$input.on(\"blur.tt\", onBlur).on(\"focus.tt\", onFocus).on(\"keydown.tt\", onKeydown);\n                if (!_.isMsie() || _.isMsie() > 9) {\n                    this.$input.on(\"input.tt\", onInput);\n                } else {\n                    this.$input.on(\"keydown.tt keypress.tt cut.tt paste.tt\", function($e) {\n                        if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n                            return;\n                        }\n                        _.defer(_.bind(that._onInput, that, $e));\n                    });\n                }\n                return this;\n            },\n            focus: function focus() {\n                this.$input.focus();\n            },\n            blur: function blur() {\n                this.$input.blur();\n            },\n            getLangDir: function getLangDir() {\n                return this.dir;\n            },\n            getQuery: function getQuery() {\n                return this.query || \"\";\n            },\n            setQuery: function setQuery(val, silent) {\n                this.setInputValue(val);\n                this._setQuery(val, silent);\n            },\n            hasQueryChangedSinceLastFocus: function hasQueryChangedSinceLastFocus() {\n                return this.query !== this.queryWhenFocused;\n            },\n            getInputValue: function getInputValue() {\n                return this.$input.val();\n            },\n            setInputValue: function setInputValue(value) {\n                this.$input.val(value);\n                this.clearHintIfInvalid();\n                this._checkLanguageDirection();\n            },\n            resetInputValue: function resetInputValue() {\n                this.setInputValue(this.query);\n            },\n            getHint: function getHint() {\n                return this.$hint.val();\n            },\n            setHint: function setHint(value) {\n                this.$hint.val(value);\n            },\n            clearHint: function clearHint() {\n                this.setHint(\"\");\n            },\n            clearHintIfInvalid: function clearHintIfInvalid() {\n                var val, hint, valIsPrefixOfHint, isValid;\n                val = this.getInputValue();\n                hint = this.getHint();\n                valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n                isValid = val !== \"\" && valIsPrefixOfHint && !this.hasOverflow();\n                !isValid && this.clearHint();\n            },\n            hasFocus: function hasFocus() {\n                return this.$input.is(\":focus\");\n            },\n            hasOverflow: function hasOverflow() {\n                var constraint = this.$input.width() - 2;\n                this.$overflowHelper.text(this.getInputValue());\n                return this.$overflowHelper.width() >= constraint;\n            },\n            isCursorAtEnd: function() {\n                var valueLength, selectionStart, range;\n                valueLength = this.$input.val().length;\n                selectionStart = this.$input[0].selectionStart;\n                if (_.isNumber(selectionStart)) {\n                    return selectionStart === valueLength;\n                } else if (document.selection) {\n                    range = document.selection.createRange();\n                    range.moveStart(\"character\", -valueLength);\n                    return valueLength === range.text.length;\n                }\n                return true;\n            },\n            destroy: function destroy() {\n                this.$hint.off(\".tt\");\n                this.$input.off(\".tt\");\n                this.$overflowHelper.remove();\n                this.$hint = this.$input = this.$overflowHelper = $(\"<div>\");\n            }\n        });\n        return Input;\n        function buildOverflowHelper($input) {\n            return $('<pre aria-hidden=\"true\"></pre>').css({\n                position: \"absolute\",\n                visibility: \"hidden\",\n                whiteSpace: \"pre\",\n                fontFamily: $input.css(\"font-family\"),\n                fontSize: $input.css(\"font-size\"),\n                fontStyle: $input.css(\"font-style\"),\n                fontVariant: $input.css(\"font-variant\"),\n                fontWeight: $input.css(\"font-weight\"),\n                wordSpacing: $input.css(\"word-spacing\"),\n                letterSpacing: $input.css(\"letter-spacing\"),\n                textIndent: $input.css(\"text-indent\"),\n                textRendering: $input.css(\"text-rendering\"),\n                textTransform: $input.css(\"text-transform\")\n            }).insertAfter($input);\n        }\n        function areQueriesEquivalent(a, b) {\n            return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n        }\n        function withModifier($e) {\n            return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n        }\n    }();\n    var Dataset = function() {\n        \"use strict\";\n        var keys, nameGenerator;\n        keys = {\n            val: \"tt-selectable-display\",\n            obj: \"tt-selectable-object\"\n        };\n        nameGenerator = _.getIdGenerator();\n        function Dataset(o, www) {\n            o = o || {};\n            o.templates = o.templates || {};\n            o.templates.notFound = o.templates.notFound || o.templates.empty;\n            if (!o.source) {\n                $.error(\"missing source\");\n            }\n            if (!o.node) {\n                $.error(\"missing node\");\n            }\n            if (o.name && !isValidName(o.name)) {\n                $.error(\"invalid dataset name: \" + o.name);\n            }\n            www.mixin(this);\n            this.highlight = !!o.highlight;\n            this.name = o.name || nameGenerator();\n            this.limit = o.limit || 5;\n            this.displayFn = getDisplayFn(o.display || o.displayKey);\n            this.templates = getTemplates(o.templates, this.displayFn);\n            this.source = o.source.__ttAdapter ? o.source.__ttAdapter() : o.source;\n            this.async = _.isUndefined(o.async) ? this.source.length > 2 : !!o.async;\n            this._resetLastSuggestion();\n            this.$el = $(o.node).addClass(this.classes.dataset).addClass(this.classes.dataset + \"-\" + this.name);\n        }\n        Dataset.extractData = function extractData(el) {\n            var $el = $(el);\n            if ($el.data(keys.obj)) {\n                return {\n                    val: $el.data(keys.val) || \"\",\n                    obj: $el.data(keys.obj) || null\n                };\n            }\n            return null;\n        };\n        _.mixin(Dataset.prototype, EventEmitter, {\n            _overwrite: function overwrite(query, suggestions) {\n                suggestions = suggestions || [];\n                if (suggestions.length) {\n                    this._renderSuggestions(query, suggestions);\n                } else if (this.async && this.templates.pending) {\n                    this._renderPending(query);\n                } else if (!this.async && this.templates.notFound) {\n                    this._renderNotFound(query);\n                } else {\n                    this._empty();\n                }\n                this.trigger(\"rendered\", this.name, suggestions, false);\n            },\n            _append: function append(query, suggestions) {\n                suggestions = suggestions || [];\n                if (suggestions.length && this.$lastSuggestion.length) {\n                    this._appendSuggestions(query, suggestions);\n                } else if (suggestions.length) {\n                    this._renderSuggestions(query, suggestions);\n                } else if (!this.$lastSuggestion.length && this.templates.notFound) {\n                    this._renderNotFound(query);\n                }\n                this.trigger(\"rendered\", this.name, suggestions, true);\n            },\n            _renderSuggestions: function renderSuggestions(query, suggestions) {\n                var $fragment;\n                $fragment = this._getSuggestionsFragment(query, suggestions);\n                this.$lastSuggestion = $fragment.children().last();\n                this.$el.html($fragment).prepend(this._getHeader(query, suggestions)).append(this._getFooter(query, suggestions));\n            },\n            _appendSuggestions: function appendSuggestions(query, suggestions) {\n                var $fragment, $lastSuggestion;\n                $fragment = this._getSuggestionsFragment(query, suggestions);\n                $lastSuggestion = $fragment.children().last();\n                this.$lastSuggestion.after($fragment);\n                this.$lastSuggestion = $lastSuggestion;\n            },\n            _renderPending: function renderPending(query) {\n                var template = this.templates.pending;\n                this._resetLastSuggestion();\n                template && this.$el.html(template({\n                    query: query,\n                    dataset: this.name\n                }));\n            },\n            _renderNotFound: function renderNotFound(query) {\n                var template = this.templates.notFound;\n                this._resetLastSuggestion();\n                template && this.$el.html(template({\n                    query: query,\n                    dataset: this.name\n                }));\n            },\n            _empty: function empty() {\n                this.$el.empty();\n                this._resetLastSuggestion();\n            },\n            _getSuggestionsFragment: function getSuggestionsFragment(query, suggestions) {\n                var that = this, fragment;\n                fragment = document.createDocumentFragment();\n                _.each(suggestions, function getSuggestionNode(suggestion) {\n                    var $el, context;\n                    context = that._injectQuery(query, suggestion);\n                    $el = $(that.templates.suggestion(context))\n                        .data(keys.obj, suggestion)\n                        .data(keys.val, that.displayFn(suggestion))\n                        .addClass(that.classes.suggestion + \" \" + that.classes.selectable)\n                        .css({\n                            cursor: 'pointer'\n                        })\n                    fragment.appendChild($el[0]);\n                });\n                this.highlight && highlight({\n                    className: this.classes.highlight,\n                    node: fragment,\n                    pattern: query\n                });\n                return $(fragment);\n            },\n            _getFooter: function getFooter(query, suggestions) {\n                return this.templates.footer ? this.templates.footer({\n                    query: query,\n                    suggestions: suggestions,\n                    dataset: this.name\n                }) : null;\n            },\n            _getHeader: function getHeader(query, suggestions) {\n                return this.templates.header ? this.templates.header({\n                    query: query,\n                    suggestions: suggestions,\n                    dataset: this.name\n                }) : null;\n            },\n            _resetLastSuggestion: function resetLastSuggestion() {\n                this.$lastSuggestion = $();\n            },\n            _injectQuery: function injectQuery(query, obj) {\n                return _.isObject(obj) ? _.mixin({\n                    _query: query\n                }, obj) : obj;\n            },\n            update: function update(query) {\n                var that = this, canceled = false, syncCalled = false, rendered = 0;\n                this.cancel();\n                this.cancel = function cancel() {\n                    canceled = true;\n                    that.cancel = $.noop;\n                    that.async && that.trigger(\"asyncCanceled\", query);\n                };\n                this.source(query, sync, async);\n                !syncCalled && sync([]);\n                function sync(suggestions) {\n                    if (syncCalled) {\n                        return;\n                    }\n                    syncCalled = true;\n                    suggestions = (suggestions || []).slice(0, that.limit);\n                    rendered = suggestions.length;\n                    that._overwrite(query, suggestions);\n                    if (rendered < that.limit && that.async) {\n                        that.trigger(\"asyncRequested\", query);\n                    }\n                }\n                function async(suggestions) {\n                    suggestions = suggestions || [];\n                    if (!canceled && rendered < that.limit) {\n                        that.cancel = $.noop;\n                        rendered += suggestions.length;\n                        that._append(query, suggestions.slice(0, that.limit - rendered));\n                        that.async && that.trigger(\"asyncReceived\", query);\n                    }\n                }\n            },\n            cancel: $.noop,\n            clear: function clear() {\n                this._empty();\n                this.cancel();\n                this.trigger(\"cleared\");\n            },\n            isEmpty: function isEmpty() {\n                return this.$el.is(\":empty\");\n            },\n            destroy: function destroy() {\n                this.$el = $(\"<div>\");\n            }\n        });\n        return Dataset;\n        function getDisplayFn(display) {\n            display = display || _.stringify;\n            return _.isFunction(display) ? display : displayFn;\n            function displayFn(obj) {\n                return obj[display];\n            }\n        }\n        function getTemplates(templates, displayFn) {\n            return {\n                notFound: templates.notFound && _.templatify(templates.notFound),\n                pending: templates.pending && _.templatify(templates.pending),\n                header: templates.header && _.templatify(templates.header),\n                footer: templates.footer && _.templatify(templates.footer),\n                suggestion: templates.suggestion || suggestionTemplate\n            };\n            function suggestionTemplate(context) {\n                return $(\"<div>\").text(displayFn(context));\n            }\n        }\n        function isValidName(str) {\n            return /^[_a-zA-Z0-9-]+$/.test(str);\n        }\n    }();\n    var Menu = function() {\n        \"use strict\";\n        function Menu(o, www) {\n            var that = this;\n            o = o || {};\n            if (!o.node) {\n                $.error(\"node is required\");\n            }\n            www.mixin(this);\n            this.$node = $(o.node);\n            this.query = null;\n            this.datasets = _.map(o.datasets, initializeDataset);\n            function initializeDataset(oDataset) {\n                var node = that.$node.find(oDataset.node).first();\n                oDataset.node = node.length ? node : $(\"<div>\").appendTo(that.$node);\n                return new Dataset(oDataset, www);\n            }\n        }\n        _.mixin(Menu.prototype, EventEmitter, {\n            _onSelectableClick: function onSelectableClick($e) {\n                this.trigger(\"selectableClicked\", $($e.currentTarget));\n            },\n            _onRendered: function onRendered(type, dataset, suggestions, async) {\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                this.trigger(\"datasetRendered\", dataset, suggestions, async);\n            },\n            _onCleared: function onCleared() {\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                this.trigger(\"datasetCleared\");\n            },\n            _propagate: function propagate() {\n                this.trigger.apply(this, arguments);\n            },\n            _allDatasetsEmpty: function allDatasetsEmpty() {\n                return _.every(this.datasets, isDatasetEmpty);\n                function isDatasetEmpty(dataset) {\n                    return dataset.isEmpty();\n                }\n            },\n            _getSelectables: function getSelectables() {\n                return this.$node.find(this.selectors.selectable);\n            },\n            _removeCursor: function _removeCursor() {\n                var $selectable = this.getActiveSelectable();\n                $selectable && $selectable.removeClass(this.classes.cursor);\n            },\n            _ensureVisible: function ensureVisible($el) {\n                var elTop, elBottom, nodeScrollTop, nodeHeight;\n                elTop = $el.position().top;\n                elBottom = elTop + $el.outerHeight(true);\n                nodeScrollTop = this.$node.scrollTop();\n                nodeHeight = this.$node.height() + parseInt(this.$node.css(\"paddingTop\"), 10) + parseInt(this.$node.css(\"paddingBottom\"), 10);\n                if (elTop < 0) {\n                    this.$node.scrollTop(nodeScrollTop + elTop);\n                } else if (nodeHeight < elBottom) {\n                    this.$node.scrollTop(nodeScrollTop + (elBottom - nodeHeight));\n                }\n            },\n            bind: function() {\n                var that = this, onSelectableClick;\n                onSelectableClick = _.bind(this._onSelectableClick, this);\n                this.$node.on(\"click.tt\", this.selectors.selectable, onSelectableClick);\n                _.each(this.datasets, function(dataset) {\n                    dataset.onSync(\"asyncRequested\", that._propagate, that).onSync(\"asyncCanceled\", that._propagate, that).onSync(\"asyncReceived\", that._propagate, that).onSync(\"rendered\", that._onRendered, that).onSync(\"cleared\", that._onCleared, that);\n                });\n                return this;\n            },\n            isOpen: function isOpen() {\n                return this.$node.hasClass(this.classes.open);\n            },\n            open: function open() {\n                this.$node.addClass(this.classes.open);\n            },\n            close: function close() {\n                this.$node.removeClass(this.classes.open);\n                this._removeCursor();\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$node.attr(\"dir\", dir);\n            },\n            selectableRelativeToCursor: function selectableRelativeToCursor(delta) {\n                var $selectables, $oldCursor, oldIndex, newIndex;\n                $oldCursor = this.getActiveSelectable();\n                $selectables = this._getSelectables();\n                oldIndex = $oldCursor ? $selectables.index($oldCursor) : -1;\n                newIndex = oldIndex + delta;\n                newIndex = (newIndex + 1) % ($selectables.length + 1) - 1;\n                newIndex = newIndex < -1 ? $selectables.length - 1 : newIndex;\n                return newIndex === -1 ? null : $selectables.eq(newIndex);\n            },\n            setCursor: function setCursor($selectable) {\n                this._removeCursor();\n                if ($selectable = $selectable && $selectable.first()) {\n                    $selectable.addClass(this.classes.cursor);\n                    this._ensureVisible($selectable);\n                }\n            },\n            getSelectableData: function getSelectableData($el) {\n                return $el && $el.length ? Dataset.extractData($el) : null;\n            },\n            getActiveSelectable: function getActiveSelectable() {\n                var $selectable = this._getSelectables().filter(this.selectors.cursor).first();\n                return $selectable.length ? $selectable : null;\n            },\n            getTopSelectable: function getTopSelectable() {\n                var $selectable = this._getSelectables().first();\n                return $selectable.length ? $selectable : null;\n            },\n            update: function update(query) {\n                var isValidUpdate = query !== this.query;\n                if (isValidUpdate) {\n                    this.query = query;\n                    _.each(this.datasets, updateDataset);\n                }\n                return isValidUpdate;\n                function updateDataset(dataset) {\n                    dataset.update(query);\n                }\n            },\n            empty: function empty() {\n                _.each(this.datasets, clearDataset);\n                this.query = null;\n                this.$node.addClass(this.classes.empty);\n                function clearDataset(dataset) {\n                    dataset.clear();\n                }\n            },\n            destroy: function destroy() {\n                this.$node.off(\".tt\");\n                this.$node = $(\"<div>\");\n                _.each(this.datasets, destroyDataset);\n                function destroyDataset(dataset) {\n                    dataset.destroy();\n                }\n            }\n        });\n        return Menu;\n    }();\n    var DefaultMenu = function() {\n        \"use strict\";\n        var s = Menu.prototype;\n        function DefaultMenu() {\n            Menu.apply(this, [].slice.call(arguments, 0));\n        }\n        _.mixin(DefaultMenu.prototype, Menu.prototype, {\n            open: function open() {\n                !this._allDatasetsEmpty() && this._show();\n                return s.open.apply(this, [].slice.call(arguments, 0));\n            },\n            close: function close() {\n                this._hide();\n                return s.close.apply(this, [].slice.call(arguments, 0));\n            },\n            _onRendered: function onRendered() {\n                if (this._allDatasetsEmpty()) {\n                    this._hide();\n                } else {\n                    this.isOpen() && this._show();\n                }\n                return s._onRendered.apply(this, [].slice.call(arguments, 0));\n            },\n            _onCleared: function onCleared() {\n                if (this._allDatasetsEmpty()) {\n                    this._hide();\n                } else {\n                    this.isOpen() && this._show();\n                }\n                return s._onCleared.apply(this, [].slice.call(arguments, 0));\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$node.css(dir === \"ltr\" ? this.css.ltr : this.css.rtl);\n                return s.setLanguageDirection.apply(this, [].slice.call(arguments, 0));\n            },\n            _hide: function hide() {\n                this.$node.hide();\n            },\n            _show: function show() {\n                this.$node.css(\"display\", \"block\");\n            }\n        });\n        return DefaultMenu;\n    }();\n    var Typeahead = function() {\n        \"use strict\";\n        function Typeahead(o, www) {\n            var onFocused, onBlurred, onEnterKeyed, onTabKeyed, onEscKeyed, onUpKeyed, onDownKeyed, onLeftKeyed, onRightKeyed, onQueryChanged, onWhitespaceChanged;\n            o = o || {};\n            if (!o.input) {\n                $.error(\"missing input\");\n            }\n            if (!o.menu) {\n                $.error(\"missing menu\");\n            }\n            if (!o.eventBus) {\n                $.error(\"missing event bus\");\n            }\n            www.mixin(this);\n            this.eventBus = o.eventBus;\n            this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n            this.input = o.input;\n            this.menu = o.menu;\n            this.enabled = true;\n            this.active = false;\n            this.input.hasFocus() && this.activate();\n            this.dir = this.input.getLangDir();\n            this._hacks();\n            this.menu.bind().onSync(\"selectableClicked\", this._onSelectableClicked, this).onSync(\"asyncRequested\", this._onAsyncRequested, this).onSync(\"asyncCanceled\", this._onAsyncCanceled, this).onSync(\"asyncReceived\", this._onAsyncReceived, this).onSync(\"datasetRendered\", this._onDatasetRendered, this).onSync(\"datasetCleared\", this._onDatasetCleared, this);\n            onFocused = c(this, \"activate\", \"open\", \"_onFocused\");\n            onBlurred = c(this, \"deactivate\", \"_onBlurred\");\n            onEnterKeyed = c(this, \"isActive\", \"isOpen\", \"_onEnterKeyed\");\n            onTabKeyed = c(this, \"isActive\", \"isOpen\", \"_onTabKeyed\");\n            onEscKeyed = c(this, \"isActive\", \"_onEscKeyed\");\n            onUpKeyed = c(this, \"isActive\", \"open\", \"_onUpKeyed\");\n            onDownKeyed = c(this, \"isActive\", \"open\", \"_onDownKeyed\");\n            onLeftKeyed = c(this, \"isActive\", \"isOpen\", \"_onLeftKeyed\");\n            onRightKeyed = c(this, \"isActive\", \"isOpen\", \"_onRightKeyed\");\n            onQueryChanged = c(this, \"_openIfActive\", \"_onQueryChanged\");\n            onWhitespaceChanged = c(this, \"_openIfActive\", \"_onWhitespaceChanged\");\n            this.input.bind().onSync(\"focused\", onFocused, this).onSync(\"blurred\", onBlurred, this).onSync(\"enterKeyed\", onEnterKeyed, this).onSync(\"tabKeyed\", onTabKeyed, this).onSync(\"escKeyed\", onEscKeyed, this).onSync(\"upKeyed\", onUpKeyed, this).onSync(\"downKeyed\", onDownKeyed, this).onSync(\"leftKeyed\", onLeftKeyed, this).onSync(\"rightKeyed\", onRightKeyed, this).onSync(\"queryChanged\", onQueryChanged, this).onSync(\"whitespaceChanged\", onWhitespaceChanged, this).onSync(\"langDirChanged\", this._onLangDirChanged, this);\n        }\n        _.mixin(Typeahead.prototype, {\n            _hacks: function hacks() {\n                var $input, $menu;\n                $input = this.input.$input || $(\"<div>\");\n                $menu = this.menu.$node || $(\"<div>\");\n                $input.on(\"blur.tt\", function($e) {\n                    var active, isActive, hasActive;\n                    active = document.activeElement;\n                    isActive = $menu.is(active);\n                    hasActive = $menu.has(active).length > 0;\n                    if (_.isMsie() && (isActive || hasActive)) {\n                        $e.preventDefault();\n                        $e.stopImmediatePropagation();\n                        _.defer(function() {\n                            $input.focus();\n                        });\n                    }\n                });\n                $menu.on(\"mousedown.tt\", function($e) {\n                    $e.preventDefault();\n                });\n            },\n            _onSelectableClicked: function onSelectableClicked(type, $el) {\n                this.select($el);\n            },\n            _onDatasetCleared: function onDatasetCleared() {\n                this._updateHint();\n            },\n            _onDatasetRendered: function onDatasetRendered(type, dataset, suggestions, async) {\n                this._updateHint();\n                this.eventBus.trigger(\"render\", suggestions, async, dataset);\n            },\n            _onAsyncRequested: function onAsyncRequested(type, dataset, query) {\n                this.eventBus.trigger(\"asyncrequest\", query, dataset);\n            },\n            _onAsyncCanceled: function onAsyncCanceled(type, dataset, query) {\n                this.eventBus.trigger(\"asynccancel\", query, dataset);\n            },\n            _onAsyncReceived: function onAsyncReceived(type, dataset, query) {\n                this.eventBus.trigger(\"asyncreceive\", query, dataset);\n            },\n            _onFocused: function onFocused() {\n                this._minLengthMet() && this.menu.update(this.input.getQuery());\n            },\n            _onBlurred: function onBlurred() {\n                if (this.input.hasQueryChangedSinceLastFocus()) {\n                    this.eventBus.trigger(\"change\", this.input.getQuery());\n                }\n            },\n            _onEnterKeyed: function onEnterKeyed(type, $e) {\n                var $selectable;\n                if ($selectable = this.menu.getActiveSelectable()) {\n                    this.select($selectable) && $e.preventDefault();\n                }\n            },\n            _onTabKeyed: function onTabKeyed(type, $e) {\n                var $selectable;\n                if ($selectable = this.menu.getActiveSelectable()) {\n                    this.select($selectable) && $e.preventDefault();\n                } else if ($selectable = this.menu.getTopSelectable()) {\n                    this.autocomplete($selectable) && $e.preventDefault();\n                }\n            },\n            _onEscKeyed: function onEscKeyed() {\n                this.close();\n            },\n            _onUpKeyed: function onUpKeyed() {\n                this.moveCursor(-1);\n            },\n            _onDownKeyed: function onDownKeyed() {\n                this.moveCursor(+1);\n            },\n            _onLeftKeyed: function onLeftKeyed() {\n                if (this.dir === \"rtl\" && this.input.isCursorAtEnd()) {\n                    this.autocomplete(this.menu.getTopSelectable());\n                }\n            },\n            _onRightKeyed: function onRightKeyed() {\n                if (this.dir === \"ltr\" && this.input.isCursorAtEnd()) {\n                    this.autocomplete(this.menu.getTopSelectable());\n                }\n            },\n            _onQueryChanged: function onQueryChanged(e, query) {\n                this._minLengthMet(query) ? this.menu.update(query) : this.menu.empty();\n            },\n            _onWhitespaceChanged: function onWhitespaceChanged() {\n                this._updateHint();\n            },\n            _onLangDirChanged: function onLangDirChanged(e, dir) {\n                if (this.dir !== dir) {\n                    this.dir = dir;\n                    this.menu.setLanguageDirection(dir);\n                }\n            },\n            _openIfActive: function openIfActive() {\n                this.isActive() && this.open();\n            },\n            _minLengthMet: function minLengthMet(query) {\n                query = _.isString(query) ? query : this.input.getQuery() || \"\";\n                return query.length >= this.minLength;\n            },\n            _updateHint: function updateHint() {\n                var $selectable, data, val, query, escapedQuery, frontMatchRegEx, match;\n                $selectable = this.menu.getTopSelectable();\n                data = this.menu.getSelectableData($selectable);\n                val = this.input.getInputValue();\n                if (data && !_.isBlankString(val) && !this.input.hasOverflow()) {\n                    query = Input.normalizeQuery(val);\n                    escapedQuery = _.escapeRegExChars(query);\n                    frontMatchRegEx = new RegExp(\"^(?:\" + escapedQuery + \")(.+$)\", \"i\");\n                    match = frontMatchRegEx.exec(data.val);\n                    match && this.input.setHint(val + match[1]);\n                } else {\n                    this.input.clearHint();\n                }\n            },\n            isEnabled: function isEnabled() {\n                return this.enabled;\n            },\n            enable: function enable() {\n                this.enabled = true;\n            },\n            disable: function disable() {\n                this.enabled = false;\n            },\n            isActive: function isActive() {\n                return this.active;\n            },\n            activate: function activate() {\n                if (this.isActive()) {\n                    return true;\n                } else if (!this.isEnabled() || this.eventBus.before(\"active\")) {\n                    return false;\n                } else {\n                    this.active = true;\n                    this.eventBus.trigger(\"active\");\n                    return true;\n                }\n            },\n            deactivate: function deactivate() {\n                if (!this.isActive()) {\n                    return true;\n                } else if (this.eventBus.before(\"idle\")) {\n                    return false;\n                } else {\n                    this.active = false;\n                    this.close();\n                    this.eventBus.trigger(\"idle\");\n                    return true;\n                }\n            },\n            isOpen: function isOpen() {\n                return this.menu.isOpen();\n            },\n            open: function open() {\n                if (!this.isOpen() && !this.eventBus.before(\"open\")) {\n                    this.menu.open();\n                    this._updateHint();\n                    this.eventBus.trigger(\"open\");\n                }\n                return this.isOpen();\n            },\n            close: function close() {\n                if (this.isOpen() && !this.eventBus.before(\"close\")) {\n                    this.menu.close();\n                    this.input.clearHint();\n                    this.input.resetInputValue();\n                    this.eventBus.trigger(\"close\");\n                }\n                return !this.isOpen();\n            },\n            setVal: function setVal(val) {\n                this.input.setQuery(_.toStr(val));\n            },\n            getVal: function getVal() {\n                return this.input.getQuery();\n            },\n            select: function select($selectable) {\n                var data = this.menu.getSelectableData($selectable);\n                if (data && !this.eventBus.before(\"select\", data.obj)) {\n                    this.input.setQuery(data.val, true);\n                    this.eventBus.trigger(\"select\", data.obj);\n                    this.close();\n                    return true;\n                }\n                return false;\n            },\n            autocomplete: function autocomplete($selectable) {\n                var query, data, isValid;\n                query = this.input.getQuery();\n                data = this.menu.getSelectableData($selectable);\n                isValid = data && query !== data.val;\n                if (isValid && !this.eventBus.before(\"autocomplete\", data.obj)) {\n                    this.input.setQuery(data.val);\n                    this.eventBus.trigger(\"autocomplete\", data.obj);\n                    return true;\n                }\n                return false;\n            },\n            moveCursor: function moveCursor(delta) {\n                var query, $candidate, data, payload, cancelMove;\n                query = this.input.getQuery();\n                $candidate = this.menu.selectableRelativeToCursor(delta);\n                data = this.menu.getSelectableData($candidate);\n                payload = data ? data.obj : null;\n                cancelMove = this._minLengthMet() && this.menu.update(query);\n                if (!cancelMove && !this.eventBus.before(\"cursorchange\", payload)) {\n                    this.menu.setCursor($candidate);\n                    if (data) {\n                        this.input.setInputValue(data.val);\n                    } else {\n                        this.input.resetInputValue();\n                        this._updateHint();\n                    }\n                    this.eventBus.trigger(\"cursorchange\", payload);\n                    return true;\n                }\n                return false;\n            },\n            destroy: function destroy() {\n                this.input.destroy();\n                this.menu.destroy();\n            }\n        });\n        return Typeahead;\n        function c(ctx) {\n            var methods = [].slice.call(arguments, 1);\n            return function() {\n                var args = [].slice.call(arguments);\n                _.each(methods, function(method) {\n                    return ctx[method].apply(ctx, args);\n                });\n            };\n        }\n    }();\n    (function() {\n        \"use strict\";\n        var old, keys, methods;\n        old = $.fn.typeahead;\n        keys = {\n            www: \"tt-www\",\n            attrs: \"tt-attrs\",\n            typeahead: \"tt-typeahead\"\n        };\n        methods = {\n            initialize: function initialize(o, datasets) {\n                var www;\n                datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n                o = o || {};\n                www = WWW(o.classNames);\n                return this.each(attach);\n                function attach() {\n                    var $input, $wrapper, $hint, $menu, defaultHint, defaultMenu, eventBus, input, menu, typeahead, MenuConstructor;\n                    _.each(datasets, function(d) {\n                        d.highlight = !!o.highlight;\n                    });\n                    $input = $(this);\n                    $wrapper = $(www.html.wrapper);\n                    $hint = $elOrNull(o.hint);\n                    $menu = $elOrNull(o.menu);\n                    defaultHint = o.hint !== false && !$hint;\n                    defaultMenu = o.menu !== false && !$menu;\n                    defaultHint && ($hint = buildHintFromInput($input, www));\n                    defaultMenu && ($menu = $(www.html.menu).css(www.css.menu));\n                    $hint && $hint.val(\"\");\n                    $input = prepInput($input, www);\n                    if (defaultHint || defaultMenu) {\n                        $wrapper.css(www.css.wrapper);\n                        $input.css(defaultHint ? www.css.input : www.css.inputWithNoHint);\n                        $input.wrap($wrapper).parent().prepend(defaultHint ? $hint : null).append(defaultMenu ? $menu : null);\n                    }\n                    MenuConstructor = defaultMenu ? DefaultMenu : Menu;\n                    eventBus = new EventBus({\n                        el: $input\n                    });\n                    input = new Input({\n                        hint: $hint,\n                        input: $input\n                    }, www);\n                    menu = new MenuConstructor({\n                        node: $menu,\n                        datasets: datasets\n                    }, www);\n                    typeahead = new Typeahead({\n                        input: input,\n                        menu: menu,\n                        eventBus: eventBus,\n                        minLength: o.minLength\n                    }, www);\n                    $input.data(keys.www, www);\n                    $input.data(keys.typeahead, typeahead);\n                }\n            },\n            isEnabled: function isEnabled() {\n                var enabled;\n                ttEach(this.first(), function(t) {\n                    enabled = t.isEnabled();\n                });\n                return enabled;\n            },\n            enable: function enable() {\n                ttEach(this, function(t) {\n                    t.enable();\n                });\n                return this;\n            },\n            disable: function disable() {\n                ttEach(this, function(t) {\n                    t.disable();\n                });\n                return this;\n            },\n            isActive: function isActive() {\n                var active;\n                ttEach(this.first(), function(t) {\n                    active = t.isActive();\n                });\n                return active;\n            },\n            activate: function activate() {\n                ttEach(this, function(t) {\n                    t.activate();\n                });\n                return this;\n            },\n            deactivate: function deactivate() {\n                ttEach(this, function(t) {\n                    t.deactivate();\n                });\n                return this;\n            },\n            isOpen: function isOpen() {\n                var open;\n                ttEach(this.first(), function(t) {\n                    open = t.isOpen();\n                });\n                return open;\n            },\n            open: function open() {\n                ttEach(this, function(t) {\n                    t.open();\n                });\n                return this;\n            },\n            close: function close() {\n                ttEach(this, function(t) {\n                    t.close();\n                });\n                return this;\n            },\n            select: function select(el) {\n                var success = false, $el = $(el);\n                ttEach(this.first(), function(t) {\n                    success = t.select($el);\n                });\n                return success;\n            },\n            autocomplete: function autocomplete(el) {\n                var success = false, $el = $(el);\n                ttEach(this.first(), function(t) {\n                    success = t.autocomplete($el);\n                });\n                return success;\n            },\n            moveCursor: function moveCursoe(delta) {\n                var success = false;\n                ttEach(this.first(), function(t) {\n                    success = t.moveCursor(delta);\n                });\n                return success;\n            },\n            val: function val(newVal) {\n                var query;\n                if (!arguments.length) {\n                    ttEach(this.first(), function(t) {\n                        query = t.getVal();\n                    });\n                    return query;\n                } else {\n                    ttEach(this, function(t) {\n                        t.setVal(newVal);\n                    });\n                    return this;\n                }\n            },\n            destroy: function destroy() {\n                ttEach(this, function(typeahead, $input) {\n                    revert($input);\n                    typeahead.destroy();\n                });\n                return this;\n            }\n        };\n        $.fn.typeahead = function(method) {\n            if (methods[method]) {\n                return methods[method].apply(this, [].slice.call(arguments, 1));\n            } else {\n                return methods.initialize.apply(this, arguments);\n            }\n        };\n        $.fn.typeahead.noConflict = function noConflict() {\n            $.fn.typeahead = old;\n            return this;\n        };\n        function ttEach($els, fn) {\n            $els.each(function() {\n                var $input = $(this), typeahead;\n                (typeahead = $input.data(keys.typeahead)) && fn(typeahead, $input);\n            });\n        }\n        function buildHintFromInput($input, www) {\n            return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop(\"readonly\", true).removeAttr(\"id name placeholder required\").attr({\n                autocomplete: \"off\",\n                spellcheck: \"false\",\n                tabindex: -1\n            });\n        }\n        function prepInput($input, www) {\n            $input.data(keys.attrs, {\n                dir: $input.attr(\"dir\"),\n                autocomplete: $input.attr(\"autocomplete\"),\n                spellcheck: $input.attr(\"spellcheck\"),\n                style: $input.attr(\"style\")\n            });\n            $input.addClass(www.classes.input).attr({\n                autocomplete: \"off\",\n                spellcheck: false\n            });\n            try {\n                !$input.attr(\"dir\") && $input.attr(\"dir\", \"auto\");\n            } catch (e) {}\n            return $input;\n        }\n        function getBackgroundStyles($el) {\n            return {\n                backgroundAttachment: $el.css(\"background-attachment\"),\n                backgroundClip: $el.css(\"background-clip\"),\n                backgroundColor: $el.css(\"background-color\"),\n                backgroundImage: $el.css(\"background-image\"),\n                backgroundOrigin: $el.css(\"background-origin\"),\n                backgroundPosition: $el.css(\"background-position\"),\n                backgroundRepeat: $el.css(\"background-repeat\"),\n                backgroundSize: $el.css(\"background-size\")\n            };\n        }\n        function revert($input) {\n            var www, $wrapper;\n            www = $input.data(keys.www);\n            $wrapper = $input.parent().filter(www.selectors.wrapper);\n            _.each($input.data(keys.attrs), function(val, key) {\n                _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n            });\n            $input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input);\n            if ($wrapper.length) {\n                $input.detach().insertAfter($wrapper);\n                $wrapper.remove();\n            }\n        }\n        function $elOrNull(obj) {\n            var isValid, $el;\n            isValid = _.isJQuery(obj) || _.isElement(obj);\n            $el = isValid ? $(obj).first() : [];\n            return $el.length ? $el : null;\n        }\n    })();\n});\n\nlet Typeahead = $.fn.typeahead;\n\nexport default Typeahead"]}